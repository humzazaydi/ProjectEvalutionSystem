@using ProjectEvalutionSystem.Models.Auth
@model IEnumerable<ProjectEvalutionSystem.Models.Assignment>
@{
    ViewBag.Title = "Home Page";
}
<div class="container">

    <div class="animatable fadeIn">
        <div class="row admin-section">
            @{
                switch ((UserRole)Session["UserRole"])
                {
                    case UserRole.Teacher:
                        <div class="col-xl-6">
                            <!--begin::Stats Widget 1-->
                            <div class="card card-custom bgi-no-repeat card-stretch gutter-b bg-success" style="background-position: 130% -21px; background-size: 50% auto; background-image: url(/theme/media/svg/icons/General/User.svg);">
                                <!--begin::Body-->
                                <div class="card-body">
                                    <h1 class="card-title font-weight-bold text-light countfect" style="font-size: 3rem; font-weight: 600 !important;" id="totalstudents">0</h1>
                                    <h5 class="font-weight-bold mt-9 mb-5 text-light">Total Students</h5>

                                </div>
                                <!--end::Body-->
                            </div>
                            <!--end::Stats Widget 1-->
                        </div>
                        <div class="col-xl-6">
                            <!--begin::Stats Widget 3-->
                            <div class="card card-custom bgi-no-repeat card-stretch gutter-b bg-warning" style="background-position: 130% -21px; background-size: 50% auto; background-image: url(/theme/media/svg/icons/Shopping/Chart-pie.svg);">
                                <!--begin::body-->
                                <div class="card-body">
                                    <h1 class="card-title font-weight-bold text-light countfect" style="font-size: 3rem; font-weight: 600 !important;" id="totalassignments">0</h1>
                                    <h5 class="font-weight-bold mt-9 mb-5 text-light">Total Assignments</h5>
                                </div>
                                <!--end::Body-->
                            </div>
                            <!--end::Stats Widget 3-->
                        </div>
                        break;

                    case UserRole.SuperAdmin:
                        <div class="col-xl-4">
                            <!--begin::Stats Widget 1-->
                            <div class="card card-custom bgi-no-repeat card-stretch gutter-b bg-info" style="background-position: 130% -21px; background-size: 50% auto; background-image: url(/theme/media/svg/icons/General/User.svg);">
                                <!--begin::Body-->
                                <div class="card-body">
                                    <h1 class="card-title font-weight-bold text-light countfect" style="font-size: 3rem; font-weight: 600 !important;" id="totalstudents">0</h1>
                                    <h5 class="font-weight-bold mt-9 mb-5 text-light">Total Students</h5>

                                </div>
                                <!--end::Body-->
                            </div>
                            <!--end::Stats Widget 1-->
                        </div>
                        <div class="col-xl-4">
                            <!--begin::Stats Widget 3-->
                            <div class="card card-custom bgi-no-repeat card-stretch gutter-b bg-primary" style="background-position: 130% -21px; background-size: 50% auto; background-image: url(/theme/media/svg/icons/Shopping/Chart-pie.svg);">
                                <!--begin::body-->
                                <div class="card-body">
                                    <h1 class="card-title font-weight-bold text-light countfect" style="font-size: 3rem; font-weight: 600 !important;" id="totalteachers">0</h1>
                                    <h5 class="font-weight-bold mt-9 mb-5 text-light">Total Teachers</h5>
                                </div>
                                <!--end::Body-->
                            </div>
                            <!--end::Stats Widget 3-->
                        </div>
                        <div class="col-xl-4">
                            <!--begin::Stats Widget 3-->
                            <div class="card card-custom bgi-no-repeat card-stretch gutter-b bg-danger" style="background-position: 130% -21px; background-size: 50% auto; background-image: url(/theme/media/svg/icons/Shopping/Chart-pie.svg);">
                                <!--begin::body-->
                                <div class="card-body">
                                    <h1 class="card-title font-weight-bold text-light countfect" style="font-size: 3rem; font-weight: 600 !important;" id="totalassignments">0</h1>
                                    <h5 class="font-weight-bold mt-9 mb-5 text-light">Total Assignments</h5>
                                </div>
                                <!--end::Body-->
                            </div>
                            <!--end::Stats Widget 3-->
                        </div>
                        break;
                }
            }

            <div class="col-xl-6">
                <!--begin::Stats Widget 3-->
                <div class="card card-custom bgi-no-repeat card-stretch gutter-b bg-dark-o-50" style="background-position: 130% -21px; background-size: 50% auto; background-image: url(/theme/media/svg/icons/Shopping/Chart-pie.svg);">
                    <!--begin::body-->
                    <div class="card-body">
                        <h1 class="card-title font-weight-bold text-dark countfect" style="font-size: 3rem; font-weight: 600 !important;" id="totalevaluation">0</h1>
                        <h5 class="font-weight-bold mt-9 mb-5 text-dark">Total Evaluation</h5>
                    </div>
                    <!--end::Body-->
                </div>
                <!--end::Stats Widget 3-->
            </div>
            <div class="col-xl-6">
                <!--begin::Stats Widget 3-->
                <div class="card card-custom bgi-no-repeat card-stretch gutter-b bg-dark" style="background-position: 130% -21px; background-size: 50% auto; background-image: url(/theme/media/svg/icons/Shopping/Chart-pie.svg);">
                    <!--begin::body-->
                    <div class="card-body">
                        <h1 class="card-title font-weight-bold text-light countfect" style="font-size: 3rem; font-weight: 600 !important;" id="totalcourses">0</h1>
                        <h5 class="font-weight-bold mt-9 mb-5 text-light">Total Courses</h5>
                    </div>
                    <!--end::Body-->
                </div>
                <!--end::Stats Widget 3-->
            </div>
        </div>
    </div>

    <div class="card card-custom">
        <div class="card-header">
            <div class="card-title">
                <span class="card-icon">
                    <i class="flaticon2-list-1 text-primary"></i>
                </span>
                <h3 class="card-label">
                    Today's Assignments
                    <small>@DateTime.Now.ToString("dddd, dd MMMM yyyy")</small>
                </h3>
            </div>
            <div class="card-toolbar">
                <a href="/Assignments/Create" class="btn btn-sm btn-success font-weight-bold">
                    <i class="flaticon2-add-1"></i> Add New Assignment
                </a>
            </div>
        </div>
        <div class="card-body">
            <table class="table table-bordered">
                <tr>
                    <th>
                        @Html.DisplayNameFor(model => model.Name)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Description)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Path)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.IsDeleted)
                    </th>
                    <th>
                        Course
                    </th>
                    <th>
                        Actions
                    </th>
                </tr>

                @foreach (var item in Model)
                {
                    <tr>
                        <td>
                            @Html.DisplayFor(modelItem => item.Name)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Description)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Path)
                        </td>
                        <td>
                            @{
                                if (Convert.ToBoolean(item.IsDeleted) != null && Convert.ToBoolean(item.IsDeleted))
                                {
                                    <span class="label label-danger label-inline mr-2">Deleted</span>
                                }
                                else
                                {
                                    <span class="label label-success label-inline mr-2">Active</span>
                                }

                            }
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Cours.Name)
                        </td>
                        <td>
                            <div class="btn-toolbar mb-3" role="toolbar" aria-label="Toolbar with button groups">
                                <div class="btn-group mr-2" role="group" aria-label="First group">
                                    <a href="/Assignments/Edit/@item.ID.ToString()"><button type="button" class="btn btn-outline-warning m-1"><i class="la la-pencil"></i> Update</button></a>

                                    @{
                                        switch ((UserRole)Session["UserRole"])
                                        {
                                            case UserRole.Teacher:

                                                <a href="/Assignments/Delete/@item.ID.ToString()"><button type="button" class="btn btn-outline-danger m-1"><i class="la la-trash"></i> Trash</button></a>
                                                break;

                                            case UserRole.SuperAdmin:

                                                <a href="/Assignments/Delete/@item.ID.ToString()"><button type="button" class="btn btn-outline-danger m-1"><i class="la la-trash"></i> Trash</button></a>
                                                break;
                                        }
                                    }
                                </div>
                            </div>
                        </td>
                    </tr>
                }

            </table>
        </div>
    </div>
</div>
@section Scripts{
    <script src="~/Scripts/CustomScripts/Dashboard.js"></script>
}